<head>
  <title>CS249EventsApp</title>
</head>

<body>
    <div class="navbar navbar-default" role="navigation">
		<div class="navbar-header">
			<a class="navbar-brand" href="#">Events Organizer</a>
<!--
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
-->
		</div>
		<div class="navbar-collapse collapse">
            <a class="navbar-brand" id="home">Home</a>
            <a class="navbar-brand" id="quickhelp">Quick Help</a>
            <a class="navbar-brand" id="schedule">Schedule</a>
			<a class="navbar-brand" id="manageEvents">Manage Events</a>
            
			<ul class="nav navbar-nav navbar-right">
				{{> loginButtons}} <!-- here -->
			</ul>
		</div>
	</div>
    
    {{#if homePage}}
    {{> home}}
    {{/if}}
    
    {{#if quickHelpPage}}
    {{> quickHelp}}
    {{/if}}
    
    {{#if schedulePage}}
    {{> schedule}}
    {{/if}}
	
	{{#if manageEventsPage}}
	{{> manageEvents}}
	{{/if}}
</body>

<template name="plsLogin">
	<div>You need to log in</div>
</template>

<template name="home">
	<div> HOME PAGE</div>
</template>

<template name="quickHelp">
    {{#if currentUser}}
    <section>
		<div class="padding">
			<form class="new-thread form-horizontal" style="padding-bottom: 40px !important;">
					<input class="form-control input-lg" type="text" name="thread" placeholder="Ask a question" />
			</form>
            <ul>
              {{#each threads}}
                {{> oneThread}}
              {{/each}}
            </ul>
		</div>
    </section>
	{{else}}
	{{> plsLogin}}	
	{{/if}}
</template>
    
<template name="oneThread">
    {{#if currentUser}}
        <div class="list-group">
            <li class="list-group-item {{#if active}}active{{else}}oldQuestion{{/if}} {{#if newQ}}newQuestion{{/if}}">
                {{text}}  
                <button type="button" class="close done green">✓</button>
                <button type="button" class="close delete red">×</button>
            </li>
            {{#each responses}}
                <li class="list-group-item">{{this}}</li>
            {{/each}}
            <li class="list-group-item">
                <form class="new-response form-horizontal">
                    <input class="form-control" type="text" name="response" placeholder="Type to reply" />
                </form>
            </li>
        </div>
	{{else}}
	{{> plsLogin}}
    {{/if}}
</template>

<template name="schedule">
	{{#if currentUser}}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <td>Time</td>
                <td>Event</td>
                <td>Location<button type="button" class="add close blue">+</button></td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            
            <tr class="warning">
            </tr>
            <tr class="info">
            </tr>
        </tbody>
    </table>
	{{else}}
	{{> plsLogin}}
	{{/if}}
</template>

<template name="manageEvents">
	{{#if currentUser}}
	<div class="col-md-6">
		<form class="form-horizontal well eventsForm">
		<fieldset>
			<legend>Add an Event</legend>
			<div class="form-group">
				<label for="inputName" class="col-lg-3 control-label">Event Name</label>
				<div class="col-lg-9">
					<input type="text" class="form-control" id="inputName" name="eName" placeholder="Event Name">
				</div>
			</div>
			<div class="form-group">
				<label for="textArea" class="col-lg-3 control-label">Event Description</label>
				<div class="col-lg-9">
					<textarea class="form-control" rows="3" id="textArea" name="eDescript"></textarea>
					<span class="help-block">Add a description about your event.</span>
				</div>
			</div>
			<div class="form-group">
				<div class="col-lg-10 col-lg-offset-2">
					<button type="reset" class="btn btn-default">Cancel</button>
					<button type="submit" class="btn btn-primary">Submit</button>
				</div>
			</div>
		</fieldset>
		</form>
	</div>
	<div class="col-md-6">
		<div class="list-group">
			<li class="list-group-item active">List of Events</li>
			{{#each events}}
				<li class="list-group-item">
					{{this.name}}
					<button type="button" class="close remove">×</button>
				</li>
			{{/each}}
		</div>
	</div>
	{{else}}
	{{> plsLogin}}
	{{/if}}
</template>